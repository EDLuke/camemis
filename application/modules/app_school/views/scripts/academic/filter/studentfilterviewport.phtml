<?
///////////////////////////////////////////////////////////
// @Sor Veasna
// Date: 17.05.2014
///////////////////////////////////////////////////////////
require_once 'filterviewport.phtml';
class StudentFilterViewPort extends filterviewport{
    
    const STUDENT_FILTER = 'STUDENT_FILTER';
    const STUDENT_ATTENDANCE_FILTER = 'STUDENT_ATTENDANCE_FILTER';
    const STUDENT_DISCIPLINE_FILTER = 'STUDENT_DISCIPLINE_FILTER';
    const STUDENT_ADVISORY_FILTER = 'STUDENT_ADVISORY_FILTER';
    
    public function __construct($params) {
        parent::__construct();
        $this->stdClass = (object)$params;
        $this->urlEncryp = new URLEncryption();            
    }
    
    public function setChartParams(){
        
        $params = "";
        if(isset($this->stdClass->objectType))
        $params .= "objectType=".$this->stdClass->objectType."";
        
        if(isset($this->stdClass->campusId))
        $params .= "&campusId=".$this->stdClass->campusId."";
        
        if(isset($this->stdClass->gradeId))
        $params .= "&gradeId=".$this->stdClass->gradeId."";
        
        if(isset($this->stdClass->schoolyearId))
        $params .= "&schoolyearId=".$this->stdClass->schoolyearId."";
        
        if(isset($this->stdClass->gradeId))
        $params .= "&academicId=".$this->stdClass->gradeId."";
        return $params;    
    }
    
    private function setChartUrl(){
        $charUrls = array();
        if($this->stdClass)
        {
            switch($this->stdClass->gridType)
            {
                case self::STUDENT_FILTER:
                    $charUrls=array(
                        "count female and male"=>array("url"=>"/chart/studentstatistic/","height"=>290)
                      
                    );
                    break;
                case self::STUDENT_ATTENDANCE_FILTER:

                    break;
                case self::STUDENT_DISCIPLINE_FILTER:

                    break;
                case self::STUDENT_ADVISORY_FILTER:

                    break;
       
            }        
        }
        return $charUrls;   
    }

    public function renderJS(){
        $this->redererViewPort($this->setChartUrl());
    }    
}
