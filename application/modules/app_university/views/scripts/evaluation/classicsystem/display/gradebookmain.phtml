<?
///////////////////////////////////////////////////////////
// @Kaom Vibolrith Senior Software Developer
// Date: 19.02.2012
// Am Stollheen 18, 55120 Mainz, Germany
///////////////////////////////////////////////////////////
require_once 'clients/CamemisPage.php';
require_once 'clients/CamemisField.php';
require_once 'clients/CamemisTree.php';
require_once 'clients/CamemisBar.php';
require_once 'clients/CamemisGrid.php';
require_once 'clients/CamemisForm.php';
require_once 'include/Common.inc.php';
require_once 'utiles/Utiles.php';
require_once setUserLoacalization();

$CAMEMIS_PAGE_OBJECT = CamemisPage::getInstance();

$studentId = isset($_GET["studentId"])?$_GET["studentId"]:"";

$academicObject = AcademicDBAccess::findGradeFromId($this->academicId);
$studentObject = StudentDBAccess::findStudentFromId($studentId);

if(!$academicObject && !$studentObject) {header("Location: /main/permission/");}

$YEAR_DATA = StudentTraditionalPerformance::getStudentYearAssessmentResult($studentObject->ID, $academicObject->ID);
$FS_DATA = StudentTraditionalPerformance::getStudentTermAssessmentResult($studentObject->ID, $academicObject->ID, "FIRST_SEMESTER");
$SS_DATA = StudentTraditionalPerformance::getStudentTermAssessmentResult($studentObject->ID, $academicObject->ID, "SECOND_SEMESTER");

if(!$academicObject && !$studentObject) {header("Location: /main/permission/");}

$YEAR_RESULT_GRID = new CamemisGrid("EVALUATION", "YEAR");
$YEAR_RESULT_GRID->setLoadUrl("/evaluation/jsonload/");

$FS_RESULT_GRID = new CamemisGrid("EVALUATION", "FIRST_SEMESTER");
$FS_RESULT_GRID->setLoadUrl("/evaluation/jsonload/");

$SS_RESULT_GRID = new CamemisGrid("EVALUATION", "SECOND_SEMESTER");
$SS_RESULT_GRID->setLoadUrl("/evaluation/jsonload/");

print $CAMEMIS_PAGE_OBJECT->showCamemisHeader();

class getDisplayPanelItem{
    
    public function __construct($studentId, $academicId, $urlEnryp) {
        
        $this->_studentId = $studentId;
        $this->_academicId = $academicId;
        $this->_urlEnryp = $urlEnryp;
    }
    
    function showItem($gridObject, $term, $section){
        
        $strParams = "";
        
        switch($term){
            case "FIRST_SEMESTER":
                $Id = "FIRST_SEMESTER";
                $strParams .= "&term=FIRST_SEMESTER";
                break;
            case "SECOND_SEMESTER":
                $Id = "SECOND_SEMESTER";
                $strParams .= "&term=SECOND_SEMESTER";
                break;
            default:
                $Id = "YEAR";
                break;
        }
        
        $strParams .= "&section=".$section."";
        $strParams .= "&studentId=".$this->_studentId."";
        $strParams .= "&academicId=".$this->_academicId."";
        
        $js ="";
        $js .="layout:'column'";
        $js .=",border:false";
        $js .=",bodyStyle: 'background:".CamemisPage::userBgColor().";padding:0px'";
        $js .=",items:[{";
            $js .="columnWidth:.35";
            $js .=",style:'padding:3px 3px 3px 3px'";
            $js .=",border:false";
            $js .=",items:[{";
                $js .="title: ''";
                $js .=",height:400";
                $js .=",layout:'fit'";
                $js .=",bodyStyle: 'background:#f3f3f3;'";
                $js .=",items: [new Ext.ux.IFrameComponent({ id: '".$Id."', url:'/evaluation/gradebookchart/?camIds=".$this->_urlEnryp->encryptedGet($strParams)."'})]";
            $js .="}]";
        $js .="},{";
            $js .="columnWidth:.65";
            $js .=",style:'padding:3px 3px 3px 0px'";
            $js .=",border:false";
            $js .=",items:[{";
                $js .="title: ''";
                $js .=",height:400";
                $js .=",layout:'fit'";
                $js .=",items:[{xtype: '".$gridObject->getObjectXtype()."'}]";
            $js .="}]";
        $js .="}]";

        return $js;
    }
}

$displayObject = new getDisplayPanelItem(
    $studentId
    ,$academicObject->ID
    ,$this->urlEncryp
);

?>
<script>

    Ext.onReady(function() {
        function cssText(value, metadata, record){
            var name = record.data.NAME;
            metadata.attr = 'ext:qtip="' + name + '"';
            return '<div style="font-weight:normal; color:#000; padding: 1px;background:#FFF;">' + value + '</div>';
        }
        function cssRang(value, metadata, record){
            var name = record.data.NAME;
            metadata.attr = 'ext:qtip="' + name + '"';
            return '<div style="font-weight:normal; color:#000; padding: 1px;background:#F3E5AB;">' + value + '</div>';
        }

        function cssAverage(value, metadata, record){
            var name = record.data.NAME;
            metadata.attr = 'ext:qtip="' + name + '"';
            return '<div style="font-weight:normal; color:#000; padding: 1px;background:#FFFFC2;">' + value + '</div>';
        }

        function cssAssessment(value, metadata, record){
            var name = record.data.NAME;
            metadata.attr = 'ext:qtip="' + name + '"';
            return '<div style="font-weight:normal; color:#000; padding: 1px;">' + value + '</div>';
        }
        <?
        /**
         * Extjs: s.gif
         */
        $CAMEMIS_PAGE_OBJECT->setCostumerCSS();
        $CAMEMIS_PAGE_OBJECT->setExtDefaultGif();

        $defaultParams = "";
        $defaultParams .= "&academicId=".$academicObject->ID."";
        $defaultParams .= "&studentId=".$studentId."";
        
        ////////////////////////////////////////////////////////////////////////

        $YEAR_RESULT_GRID->addReadField("name: 'SHORT'");
        $YEAR_RESULT_GRID->addReadField("name: 'NAME'");
        $YEAR_RESULT_GRID->addReadField("name: 'RANK'");
        $YEAR_RESULT_GRID->addReadField("name: 'SUBJECT_VALUE'");
        $YEAR_RESULT_GRID->addReadField("name: 'ASSESSMENT'");

        $YEAR_RESULT_GRID->addColumn("header: '<b>".SHORT."</b>', width: 80, renderer:cssText, sortable: true, dataIndex: 'SHORT'");
        $YEAR_RESULT_GRID->addColumn("header: '<b>".NAME."</b>', width: 150, renderer:cssText, sortable: true, dataIndex: 'NAME'");
        $YEAR_RESULT_GRID->addColumn("header: '<b>".RANK."</b>', width: 80, renderer:cssRang,align: 'right', sortable: true, dataIndex: 'RANK'");
        $YEAR_RESULT_GRID->addColumn("header: '<b>".VALUE."</b>', width: 120, renderer:cssAverage, align: 'right', sortable: true, dataIndex: 'SUBJECT_VALUE'");
        $YEAR_RESULT_GRID->addColumn("header: '<b>".ASSESSMENT."</b>', width: 120, renderer:cssAssessment, align: 'right', sortable: true, dataIndex: 'ASSESSMENT'");

        $setYearParams = $defaultParams;
        $setYearParams .= "&section=3";

        $YEAR_RESULT_GRID->baseParams = "
            start:0
            ,limit:100
            ,camIds: '".$this->urlEncryp->encryptedGet($setYearParams)."'
            ,cmd: 'jsonLoadStudentAllSubjectAssessment'
        ";

        $YEAR_RESULT_GRID->isObjectDefaultOnLoad = true;
        $YEAR_RESULT_GRID->forceFit = "false";
        $YEAR_RESULT_GRID->renderJS();

        $FS_RESULT_GRID->addReadField("name: 'SHORT'");
        $FS_RESULT_GRID->addReadField("name: 'NAME'");
        $FS_RESULT_GRID->addReadField("name: 'RANK'");
        $FS_RESULT_GRID->addReadField("name: 'SUBJECT_VALUE'");
        $FS_RESULT_GRID->addReadField("name: 'ASSESSMENT'");

        $FS_RESULT_GRID->addColumn("header: '<b>".SHORT."</b>', width: 80, renderer:cssText, sortable: true, dataIndex: 'SHORT'");
        $FS_RESULT_GRID->addColumn("header: '<b>".NAME."</b>', width: 150, renderer:cssText, sortable: true, dataIndex: 'NAME'");
        $FS_RESULT_GRID->addColumn("header: '<b>".RANK."</b>', width: 80, renderer:cssRang,align: 'right', sortable: true, dataIndex: 'RANK'");
        $FS_RESULT_GRID->addColumn("header: '<b>".VALUE."</b>', width: 120, renderer:cssAverage,align: 'right', cssAverage: true, dataIndex: 'SUBJECT_VALUE'");
        $FS_RESULT_GRID->addColumn("header: '<b>".ASSESSMENT."</b>', width: 120, renderer:cssAssessment, align: 'right', sortable: true, dataIndex: 'ASSESSMENT'");

        $setFirstParams = $defaultParams;
        $setFirstParams .= "&section=2";
        $setFirstParams .= "&term=FIRST_SEMESTER";
        
        $FS_RESULT_GRID->baseParams = "
            start:0
            ,limit:100
            ,camIds: '".$this->urlEncryp->encryptedGet($setFirstParams)."'
            ,cmd: 'jsonLoadStudentAllSubjectAssessment'
        ";
        $FS_RESULT_GRID->isObjectDefaultOnLoad = true;
        $FS_RESULT_GRID->forceFit = "false";
        $FS_RESULT_GRID->renderJS();

        $SS_RESULT_GRID->addReadField("name: 'SHORT'");
        $SS_RESULT_GRID->addReadField("name: 'NAME'");
        $SS_RESULT_GRID->addReadField("name: 'RANK'");
        $SS_RESULT_GRID->addReadField("name: 'SUBJECT_VALUE'");
        $SS_RESULT_GRID->addReadField("name: 'ASSESSMENT'");

        $SS_RESULT_GRID->addColumn("header: '<b>".SHORT."</b>', width: 80, renderer:cssText, sortable: true, dataIndex: 'SHORT'");
        $SS_RESULT_GRID->addColumn("header: '<b>".NAME."</b>', width: 150, renderer:cssText, sortable: true, dataIndex: 'NAME'");
        $SS_RESULT_GRID->addColumn("header: '<b>".RANK."</b>', width: 80, renderer:cssRang,align: 'right', sortable: true, dataIndex: 'RANK'");
        $SS_RESULT_GRID->addColumn("header: '<b>".VALUE."</b>', width: 120, renderer:cssAverage,align: 'right', sortable: true, dataIndex: 'SUBJECT_VALUE'");
        $SS_RESULT_GRID->addColumn("header: '<b>".ASSESSMENT."</b>', width: 120, renderer:cssAssessment, align: 'right', sortable: true, dataIndex: 'ASSESSMENT'");

        $setSecondParams = $defaultParams;
        $setSecondParams .= "&section=2";
        $setSecondParams .= "&term=SECOND_SEMESTER";
        $SS_RESULT_GRID->baseParams = "
            start:0
            ,limit:100
            ,camIds: '".$this->urlEncryp->encryptedGet($setSecondParams)."'
            ,cmd: 'jsonLoadStudentAllSubjectAssessment'
        ";
        $SS_RESULT_GRID->isObjectDefaultOnLoad = true;
        $SS_RESULT_GRID->forceFit = "false";
        $SS_RESULT_GRID->renderJS();
        ////////////////////////////////////////////////////////////////////////

        $SUMMARY_ITEMS = Array();

        if(UserAuth::getUserType() !="STUDENT"){
            $BAR_SUMMARY_YEAR = "
                ,tbar:['->','-',{
                    text:'".BEHAVIOR."'
                    ,iconCls:'icon-lightning_add'
                    ,handler:function(){
                        clickOpenPage('CONTENT','".BEHAVIOR."', '/evaluation/settingbehavior/?camIds=".$this->urlEncryp->encryptedGet($setYearParams)."');
                    }
                }]
            ";
        }else{
            $BAR_SUMMARY_YEAR = "";
        }

        $SUMMARY_YEAR = "{
            title:'".YEAR."'
            ,layout:'fit'
            ".$BAR_SUMMARY_YEAR."
            ,items:[{
                layout:'form'
                ,bodyStyle: 'padding:15px;background:#FFF;color:#333;'
                ,border:false
                ,items: [{
                    layout: 'fit'
                    ,border: false
                    ,bodyStyle: 'background:#FFF;'
                    ,contentEl: 'displayYearResult'
                }]
            }]
        }";
        if($academicObject->DISPLAY_YEAR_RESULT)
        $SUMMARY_ITEMS[] = $SUMMARY_YEAR;

        if(UserAuth::getUserType() !="STUDENT"){
            $BAR_SUMMARY_FIRST_SEMESTER = "
                ,tbar:['->','-',{
                    text:'".BEHAVIOR."'
                    ,iconCls:'icon-lightning_add'
                    ,handler:function(){
                        clickOpenPage('CONTENT','".BEHAVIOR."', '/evaluation/settingbehavior/?camIds=".$this->urlEncryp->encryptedGet($setFirstParams)."');
                    }
                }]
            ";
        }else{
            $BAR_SUMMARY_FIRST_SEMESTER = "";
        }

        $SUMMARY_FIRST_SEMESTER = "{
            title:'".FIRST_SEMESTER."'
            ,layout:'fit'
            ".$BAR_SUMMARY_FIRST_SEMESTER."
            ,items:[{
                layout:'form'
                ,bodyStyle: 'padding:15px;background:#FFF;color:#333;'
                ,border:false
                ,items: [{
                    layout: 'fit'
                    ,border: false
                    ,bodyStyle: 'background:#FFF;'
                    ,contentEl: 'displayFirstSemesterResult'
                }]
            }]
        }";
        if($academicObject->DISPLAY_FIRST_RESULT)
        $SUMMARY_ITEMS[] = $SUMMARY_FIRST_SEMESTER;

        if(UserAuth::getUserType() !="STUDENT"){
            $BAR_SUMMARY_SECOND_SEMESTER = "
                ,tbar:['->','-',{
                    text:'".BEHAVIOR."'
                    ,iconCls:'icon-lightning_add'
                    ,handler:function(){
                        clickOpenPage('CONTENT','".BEHAVIOR."', '/evaluation/settingbehavior/?camIds=".$this->urlEncryp->encryptedGet($setSecondParams)."');
                    }
                }]
            ";
        }else{
            $BAR_SUMMARY_FIRST_SEMESTER = "";
        }

        $SUMMARY_SECOND_SEMESTER = "{
            title:'".SECOND_SEMESTER."'
            ,layout:'fit'
            ".$BAR_SUMMARY_FIRST_SEMESTER."
            ,items:[{
                layout:'form'
                ,bodyStyle: 'padding:15px;background:#FFF;color:#333;'
                ,border:false
                ,items: [{
                    layout: 'fit'
                    ,border: false
                    ,bodyStyle: 'background:#FFF;'
                    ,contentEl: 'displaySecondSemesterResult'
                }]
            }]
        }";
        if($academicObject->DISPLAY_SECOND_RESULT)
        $SUMMARY_ITEMS[] = $SUMMARY_SECOND_SEMESTER;
        $SELECTION_SUMMARY_ITEMS = "[".implode(',',$SUMMARY_ITEMS)."]";

        $PENEL_ITEMS = Array();

//        $SUMMARY = "{
//            columnWidth:1
//            ,baseCls:'x-plain'
//            ,bodyStyle:'padding:5px 10px 0px 10px'
//            ,items:[{
//                title: '".SUMMARY."'
//                ,collapsible: true
//                ,collapsed: false
//                ,items:[{
//                    layout:'fit'
//                    ,height:180
//                    ,bodyStyle: 'background:".CamemisPage::userBgColor().";padding:3px'
//                    ,border: false
//                    ,items:[{
//                        xtype: 'tabpanel'
//                        ,tabPosition: 'top'
//                        ,plain:true
//                        ,activeTab: 0
//                        ,enableTabScroll:true
//                        ,items:".$SELECTION_SUMMARY_ITEMS."
//                    }]
//                }]
//            }]
//        }";
//        $PENEL_ITEMS[] = $SUMMARY;

        $MONTHLY_RESULT = "{
            columnWidth:1
            ,baseCls:'x-plain'
            ,bodyStyle:'padding:5px 10px 0px 10px'
            ,items:[{
                title: '".MONTHLY_RESULT."'
                ,collapsible: true
                ,collapsed: true
                ,items:[{
                    layout:'fit'
                    ,height:450
                    ,bodyStyle: 'background:".CamemisPage::userBgColor().";padding:3px'
                    ,border: false
                    ,items: [new Ext.ux.IFrameComponent({ id: 'MONTHLY_RESULT', url:'/evaluation/gradebookmonth/?camIds=".$this->urlEncryp->encryptedGet($defaultParams)."'})]
                }]
            }]
        }";
        if($academicObject->DISPLAY_MONTH_RESULT)
        $PENEL_ITEMS[] = $MONTHLY_RESULT;

        $YEAR_RESULT = "{
            columnWidth:1
            ,baseCls:'x-plain'
            ,bodyStyle:'padding:5px 10px 0px 10px'
            ,items:[{
                title: '".YEAR_RESULT."'
                ,collapsible: true
                ,collapsed: false
                ,items:[{
                    layout:'fit'
                    ,height:450
                    ,bodyStyle: 'background:".CamemisPage::userBgColor().";padding:3px'
                    ,border: false
                    ,items:[{
                        xtype: 'tabpanel'
                        ,tabPosition: 'top'
                        ,plain:true
                        ,activeTab: 0
                        ,enableTabScroll:true
                        ,items:[{
                            title:'".SUBJECT_ASSESSMENT."'
                            ,layout:'fit'
                            ,items:[{".$displayObject->showItem($YEAR_RESULT_GRID, false, 3)."}]
                        },{
                            title:'".TEACHER_COMMENTS."'
                            ,layout:'fit'
                            ,items: [new Ext.ux.IFrameComponent({ id: 'YEAR_TEACHER_COMMENTS', url:'/evaluation/teachercomment/?camIds=".$this->urlEncryp->encryptedGet($setYearParams)."'})]
                        }]
                    }]
                }]
            }]
        }";
        if($academicObject->DISPLAY_YEAR_RESULT)
        $PENEL_ITEMS[] = $YEAR_RESULT;

        $FIRST_SEMESTER_RESULT = "{
            columnWidth:1
            ,baseCls:'x-plain'
            ,bodyStyle:'padding:5px 10px 0px 10px'
            ,items:[{
                title: '".FIRST_SEMESTER_RESULT."'
                ,layout:'fit'
                ,collapsible: true
                ,collapsed: false
                ,items:[{
                    layout:'fit'
                    ,height:450
                    ,bodyStyle: 'background:".CamemisPage::userBgColor().";padding:3px'
                    ,border: false
                    ,items:[{
                        xtype: 'tabpanel'
                        ,tabPosition: 'top'
                        ,plain:true
                        ,activeTab: 0
                        ,enableTabScroll:true
                        ,items:[{
                            title:'".SUBJECT_ASSESSMENT."'
                            ,layout:'fit'
                            ,items:[{".$displayObject->showItem($FS_RESULT_GRID, "FIRST_SEMESTER", 2)."}]
                        },{
                            title:'".TEACHER_COMMENTS."'
                            ,layout:'fit'
                            ,items: [new Ext.ux.IFrameComponent({ id: 'FS_TEACHER_COMMENTS', url:'/evaluation/teachercomment/?camIds=".$this->urlEncryp->encryptedGet($setFirstParams)."'})]
                        }]
                    }]
                }]
            }]
        }";
        if($academicObject->DISPLAY_FIRST_RESULT)
        $PENEL_ITEMS[] = $FIRST_SEMESTER_RESULT;

        $SECOND_SEMESTER_RESULT = "{
            columnWidth:1
            ,baseCls:'x-plain'
            ,bodyStyle:'padding:5px 10px 5px 10px'
            ,items:[{
                title: '".SECOND_SEMESTER_RESULT."'
                ,collapsible: true
                ,collapsed: false
                ,items:[{
                    layout:'fit'
                    ,height:450
                    ,bodyStyle: 'background:".CamemisPage::userBgColor().";padding:3px'
                    ,border: false
                    ,items:[{
                        xtype: 'tabpanel'
                        ,tabPosition: 'top'
                        ,plain:true
                        ,activeTab: 0
                        ,enableTabScroll:true
                        ,items:[{
                            title:'".SUBJECT_ASSESSMENT."'
                            ,layout:'fit'
                            ,items:[{".$displayObject->showItem($SS_RESULT_GRID, "SECOND_SEMESTER", 2)."}]
                        },{
                            title:'".TEACHER_COMMENTS."'
                            ,layout:'fit'
                            ,items: [new Ext.ux.IFrameComponent({ id: 'SS_TEACHER_COMMENTS', url:'/evaluation/teachercomment/?camIds=".$this->urlEncryp->encryptedGet($setSecondParams)."'})]
                        }]
                    }]
                }]
            }]
        }";
        if($academicObject->DISPLAY_SECOND_RESULT)
        $PENEL_ITEMS[] = $SECOND_SEMESTER_RESULT;

        $SELECTION_PANEL_ITEMS = "[".implode(',',$PENEL_ITEMS)."]";

        ?>
        viewport = new Ext.Viewport({
            layout: 'fit'
            ,border: false
            ,items:[{
                layout:'card'
                ,id: 'CONTENT'
                ,activeItem: 0
                ,border: false
                ,items: [{
                    layout:'column'
                    ,border:false
                    ,autoScroll:true
                    ,items:<?=$SELECTION_PANEL_ITEMS?>
                }]
            }]
        });
    });
</script>
<div id="displayYearResult" class="x-hidden">
    <table>
        <tr>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=AVERAGE?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$YEAR_DATA?$YEAR_DATA->AVERAGE:"---"?></td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=ASSESSMENT?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$YEAR_DATA?$YEAR_DATA->ASSESSMENT:"---"?></td>
        </tr>
        <tr>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=RANK?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$YEAR_DATA?$YEAR_DATA->RANK:"---"?></td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=BEHAVIOR?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$YEAR_DATA?$YEAR_DATA->BEHAVIOR_NAME:"---"?></td>
        </tr>
    </table>
</div>
<div id="displayFirstSemesterResult" class="x-hidden">
    <table>
        <tr>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=AVERAGE?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$FS_DATA?$FS_DATA->AVERAGE:"---"?></td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=ASSESSMENT?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$FS_DATA?$FS_DATA->ASSESSMENT:"---"?></td>
        </tr>
        <tr>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=RANK?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$FS_DATA?$FS_DATA->RANK:"---"?></td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=BEHAVIOR?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$FS_DATA?$FS_DATA->BEHAVIOR_NAME:"---"?></td>
        </tr>
    </table>
</div>
<div id="displaySecondSemesterResult" class="x-hidden">
    <table>
        <tr>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=AVERAGE?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$SS_DATA?$SS_DATA->AVERAGE:"---"?></td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=ASSESSMENT?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$SS_DATA?$SS_DATA->ASSESSMENT:"---"?></td>
        </tr>
        <tr>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=RANK?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$SS_DATA?$SS_DATA->RANK:"---"?></td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=BEHAVIOR?>:</td>
            <td style="width:150px;font-weight:normal;height:30px;font-size:13px;"><?=$SS_DATA?$SS_DATA->BEHAVIOR_NAME:"---"?></td>
        </tr>
    </table>
</div>
<?
print $CAMEMIS_PAGE_OBJECT->showCamemisFooter();
?>